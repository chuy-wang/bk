### 什么是基于日志点的复制

- 传统的主从复制方式

- slave请求Master的增量日志依赖于日志偏移量

- 配置链路时需要指定master_log_file和master_log_pos参数

### 什么是基于gtid的复制

- GTID = source_id:transaction_id
- slave增量同步Master的数据依赖于其未同步的事务ID
- 配置复制链路时，slave可以根据已同步的事务ID继续自动同步

### 两种复制方式各自有什么特点

| 基于日志的复制               | 基于GTID的复制                                       |
| ---------------------------- | ---------------------------------------------------- |
| 兼容性好                     | 同老版本的MySQL及MariaDB不兼容                       |
| 支持MMM和MHA架构             | 仅支持MHA架构                                        |
| 主备切换后很难找到新的同步点 | 基于事务ID的复制，可以很方便的找到未完成同步的事务ID |
| 可以方便的跳过复制错误       | 只能通过置入空事务的方式跳过错误                     |

### 两种复制方式如何选择

| 需要兼容老版本的MySQL及MariaDB | 基于日志点的复制       |
| ------------------------------ | ---------------------- |
| 需要使用MMM架构                | 基于日志点的复制       |
| 其它各种情况                   | 优先选择基于GTID的复制 |



